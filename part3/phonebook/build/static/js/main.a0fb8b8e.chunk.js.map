{"version":3,"sources":["components/Person.js","components/Form.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","value","onClick","Form","props","onSubmit","addPerson","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Notification","message","error","className","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","filter","handleFilterChange","Numbers","personsToShow","map","key","App","useState","persons","setPersons","setNewName","setNewNumber","sfilter","setFilter","setMessage","setError","useEffect","personService","initialPersons","toLowerCase","includes","event","target","preventDefault","tArray","i","length","search","window","confirm","find","changedPerson","returnedPerson","p","setTimeout","catch","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0fb8b8e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return (\r\n      <div>\r\n        {person.name} {person.number} <button value={person.name} onClick={deletePerson}>delete</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n    return (\r\n      <form onSubmit={props.addPerson}>\r\n          <div>\r\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n  if (message === null && error === null) {\r\n    return null\r\n  }\r\n\r\n  else if (error !== null) {\r\n    return (\r\n      <div className=\"error\">\r\n        {error}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  else {\r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n//const baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(baseUrl + '/' + id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Form from './components/Form'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nfunction search(key, tArray) {\n  for (var i=0; i < tArray.length; i++) {\n    if (tArray[i].name === key){\n      return true\n    }\n  }\n  return false\n}\n\nconst Filter = ({filter, handleFilterChange}) => <div> filter shown with <input value={filter} onChange={handleFilterChange} /></div>\nconst Numbers = ({personsToShow, deletePerson}) => <div>{personsToShow.map(person => <Person key={person.name} person={person} deletePerson={deletePerson} />)}</div>\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ sfilter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n  \n  useEffect( () => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n    })\n  })\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (search(newName, persons)){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(person => person.name === newName)\n        const changedPerson = {...person, number: newNumber}\n        personService\n          .update(person.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== person.id ? p : changedPerson))\n            setMessage(`Updated ${newName}`)\n            setTimeout(() => setMessage(null), 5000)\n          })\n          .catch(error => {\n            //setError(`The person ${newName} was already deleted from the server`)\n            setError(error.response.data.error)\n            setTimeout(() => setError(null), 5000)\n            setPersons(persons.filter(p => p.id !== person.id))\n          })\n      }\n    }\n    else {\n      personService\n        .create({name: newName, number: newNumber})\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${newName}`)\n          setTimeout(() => setMessage(null), 5000)\n        })\n        .catch(error => {\n          setError(error.response.data.error)\n          setTimeout(() => setError(null), 5000)\n        })\n      }\n  }\n\n  const deletePerson = (event) => {\n    event.preventDefault()\n    const name = event.target.value  \n    const person = persons.find(person => person.name === name)\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(person.id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage(`Deleted ${name}`)\n          setTimeout(() => setMessage(null), 5000)\n        })\n        .catch(error => {\n          setError(`The person ${name} was already deleted from the server`)\n          setTimeout(() => setError(null), 5000)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n\n  }\n\n  const personsToShow = sfilter ? persons.filter(person => person.name.toLowerCase().includes(sfilter.toLowerCase())) : persons\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n        <Notification message={message} error={error} />\n        <Filter filter={sfilter} handleFilterChange={handleFilterChange}/>\n      <h1>add a new</h1>\n        <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h1>Numbers</h1>\n        <Numbers personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}